<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.slim.js"></script>
        
    <!-- Website Title -->
    <title>Prak1 - PWL - jQuery</title>
</head>

<body class="bg-light">
    <nav class="p-2 bg-info text-light text-center">
        <h4 class="">Pemesanan Produk</h4>
    </nav>
    <div class="container-fluid d-flex justify-content-evenly p-2 bg-light">
        <div class="card" style="width: 60%;">
            <div class="card-body p-3">
                <h5>Masukkan Data dan Pilih Produk</h5>
                <form>
                    <div class="mb-3">
                        <label for="name" class="px-3"><h6>Nama</h6></label>
                        <input type="text" class="form-control" id="name" autocomplete="off" aria-describedby="nameMessage">
                        <div id="nameMessage" class="form-text"></div>
                    </div>
                    <div id="dynamicForm">
                        <div class="row">
                            <div class="col-9 px-4">
                                <h6>Produk</h6>
                            </div>
                            <div class="col-2 text-center"><h6>Jumlah</h6></div>
                            <div class="col-1"></div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-9">
                                <select id="select1" class="form-select" aria-label="Default select example">
                                    <option value="" disabled selected hidden>Pilih produk</option>
                                    <option value="1">Jet Tempur</option>
                                    <option value="2">Nuklir Hiroshima</option>
                                    <option value="3">Infinity Stone</option>
                                    <option value="2">Burj Khalifa</option>
                                    <option value="3">Rudal Hipersonik</option>
                                </select>
                            </div>
                            <div class="col-2">
                                <input type="text" class="form-control" id="count" autocomplete="off" aria-describedby="countMessage">
                            </div>
                        </div>
                    </div>
                    <button id="addSelect" class="btn btn-success">Tambah</button>
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>

        <div class="card" style="width: 38%;">
            <div class="card-body p-3">
                <h5>Data Pemesanan</h5>
                <div class="px-2 m-0 mb-2 py-3 border-start border-4 bg-light border-info">
                    <h6 id="buyer" class="mb-0 text-info">Nama pembeli masih kosong</h6>
                </div>
                <div class="px-2 m-0 mb-2 py-3 border-start border-4 bg-light border-info">
                    <h6 class="mb-0 text-info">Belum ada produk yang dipilih</h6>
                </div>
            </div>
        </div>
    </div>















    <script>
        $(document).ready(function(){
            $("#name").change(function(){
                $("#buyer").text(this.value);
            });

            var idx = 1;
            var data_produk = [
                    { "nama" : "Jet Tempur",        "jumlah" : 10 },
                    { "nama" : "Nuklir Hiroshima",  "jumlah" : 1  },
                    { "nama" : "Infinity Stones",   "jumlah" : 6  },
                    { "nama" : "Burj Khalifa",      "jumlah" : 5  },
                    { "nama" : "Rudal Hipersonik",  "jumlah" : 3  }
                ];

            $("#addSelect").click(function(e){
                var option = ``;
                for(let i=0; i<5; i++){
                }
                idx++;
                $("#dynamicForm").append(``
                    +`<div class="row mb-3" id="rowidx`+idx+`">`
                        +`<div class="col-9">`
                            +`<select id="select`+idx+`" class="form-select" aria-label="Default select example">`
                                +`<option value="" disabled selected hidden>Pilih produk</option>`
                                +`<option value="1">Jet Tempur</option>`
                                +`<option value="2">Nuklir Hiroshima</option>`
                                +`<option value="3">Infinity Stone</option>`
                                +`<option value="2">Burj Khalifa</option>`
                                +`<option value="3">Rudal Hipersonik</option>`
                            +`</select>`
                        +`</div>`
                        +`<div class="col-2">`
                            +`<input type="text" class="form-control" id="count`+idx+`" autocomplete="off" aria-describedby="countMessage">`
                        +`</div>` 
                        +`<div class="col-1">`
                            +`<button id="idx`+idx+`" class="deleteBtn btn btn-danger fw-bolder">X</button>`
                        +`</div>`
                    +`</div>`
                );
                e.preventDefault();
            });

            $(document).on("click", ".deleteBtn", function(){
                var btnId = $(this).attr("id");
                $("#row"+btnId+"").remove();
            });

        });
    </script>
</body>
</html>